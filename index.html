<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
  <link rel="icon" type="image/png" sizes="32x32" href="./assets/images/favicon-32x32.png">
  <link rel="stylesheet" href="style/style.css">
  <link rel="stylesheet" href="style/media-query.css">
  
  <title>Frontend Mentor | Newsletter sign-up form with success message</title>

  <!-- Feel free to remove these styles or customise in your own stylesheet üëç -->
</head>
<body>
  <main>
    
    <!-- Sign-up form start -->
    <div id="illustration"></div>
    <div class="statement">
      <h1>Stay updated!</h1>
      
        <p>Join 60,000+ product managers receiving monthly updates on:</p>
      
        <ul>
          <li>Product discovery and building what matters</li>
          <li>Measuring to ensure updates are a success</li>
          <li>And much more!</li>
        </ul>
    </div>
    
      <div class="form-email">
        <h2>Email address <span id="msg"></span></h2>
        <form action="thanks.html" method="get" autocomplete="off" novalidate>
          <p><input type="email" name="email" id="iEmail" placeholder="email@company.com" oninput="checkEmail()"  onkeyup="warning()"></p>
          <p><input type="submit" value="Subscribe to monthly newsletter" onclick="checkEmail()" id="submitButton"></p>
        </form>
      </div>
      </main>
  <footer>
    <div class="attribution">
      Challenge by <a href="https://www.frontendmentor.io?ref=challenge" target="_blank">Frontend Mentor</a>. 
      Coded by <a href="https://www.linkedin.com/in/felipe-guedes-maciel-a524005a/">Felipe Maciel</a>.
    </div> 
  </footer>
  <script>

    var emailInput = window.document.getElementById('iEmail')
    emailInput.addEventListener('input', warning)
    
    const submitButton = document.getElementById('submitButton')
    const msg = window.document.querySelector('span#msg')

    function warning(){

      var emailValue = emailInput.value
      

        if (emailValue.indexOf('@') === -1) {

            emailInput.style.backgroundColor = '#FFE8E6'
            emailInput.style.borderColor = 'rgb(240, 97, 97)'
            emailInput.style.borderWidth = '4px'
            emailInput.style.color = 'rgb(240, 97, 97)'
            msg.innerHTML = 'Valid email required'
    
        } else {
          
            emailInput.style.borderColor = ''
            emailInput.style.borderWidth = '1px'
            emailInput.style.backgroundColor = 'white'
            emailInput.style.color = 'black'
            msg.innerHTML = ''
        }
    }

    
    emailInput.addEventListener('input', checkEmail);

    function checkEmail() {
    const emailValue = emailInput.value;

    if (emailValue.indexOf('@') === -1) {
        msg.innerHTML = 'Valid email required';
        event.preventDefault(); // Isso impede o envio do formul√°rio
    } else {
        msg.innerHTML = '';
    }
}

  </script>
</body>
</html>